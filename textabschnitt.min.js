var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(a,h,d){if(null==a)throw new TypeError("The 'this' value for String.prototype."+d+" must not be null or undefined");if(h instanceof RegExp)throw new TypeError("First argument to String.prototype."+d+" must not be a regular expression");return a+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,h,d){a!=Array.prototype&&a!=Object.prototype&&(a[h]=d.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,h,d,f){if(h){d=$jscomp.global;a=a.split(".");for(f=0;f<a.length-1;f++){var l=a[f];l in d||(d[l]={});d=d[l]}a=a[a.length-1];f=d[a];h=h(f);h!=f&&null!=h&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:h})}};
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(a,d){var f=$jscomp.checkStringArgs(this,a,"startsWith");a+="";var h=f.length,r=a.length;d=Math.max(0,Math.min(d|0,f.length));for(var v=0;v<r&&d<h;)if(f[d++]!=a[v++])return!1;return v>=r}},"es6-impl","es3");
$jscomp.polyfill("String.prototype.endsWith",function(a){return a?a:function(a,d){var f=$jscomp.checkStringArgs(this,a,"endsWith");a+="";void 0===d&&(d=f.length);d=Math.max(0,Math.min(d|0,f.length));for(var h=a.length;0<h&&0<d;)if(f[--d]!=a[--h])return!1;return 0>=h}},"es6-impl","es3");
$jscomp.polyfill("Array.prototype.fill",function(a){return a?a:function(a,d,f){var h=this.length||0;0>d&&(d=Math.max(0,h+d));if(null==f||f>h)f=h;f=Number(f);0>f&&(f=Math.max(0,h+f));for(d=Number(d||0);d<f;d++)this[d]=a;return this}},"es6-impl","es3");$jscomp.findInternal=function(a,h,d){a instanceof String&&(a=String(a));for(var f=a.length,l=0;l<f;l++){var r=a[l];if(h.call(d,r,l,a))return{i:l,v:r}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,d){return $jscomp.findInternal(this,a,d).v}},"es6-impl","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var h=0;return $jscomp.iteratorPrototype(function(){return h<a.length?{done:!1,value:a[h++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,h){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var d=0,f={next:function(){if(d<a.length){var l=d++;return{value:h(l,a[l]),done:!1}}f.next=function(){return{done:!0,value:void 0}};return f.next()}};f[Symbol.iterator]=function(){return f};return f};
$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6-impl","es3");
var Textabschnitt=new function(){function a(a,d){this.x=a;this.y=d}function h(a,d){var b=$(d).prop("selectionStart"),g=$(d).prop("selectionEnd"),k=$(d).val(),b=k.substring(0,b),g=k.substring(g,k.length);$(d).val(b+a+g)}function d(a){for(var b="",d=0;d<a.length;d++)var g="00"+a.charCodeAt(d).toString(16),b=b+g.substr(g.length-2);return b}function f(a){for(var b="",d=0;d<a.length;d+=2)b+=String.fromCharCode(parseInt(a.substr(d,2),16));return b}function l(b,h){var x=[];if(null==b||void 0==b)b="";b=("\n"+
b).replace(/\n={2,6} .+\n/g,function(a){return"\n"+a+"\n"});b=b.replace(/\n={2,6} .+\n/g,function(a){var u=a.trim().split(" "),b=u[0].length;u.splice(0,1);var g="ref"+parseInt(1E8*Math.random());a="\n[["+g+","+g+"]]\n"+a.substr(1)+"\n";x.push([b,g,u.join(" ")]);return a});b=b.replace(/\$\$\$(.|\n)*?\$\$\$/g,function(a){return-1!=a.substring(3,a.length-3).indexOf("\n")?"Hex11 "+d(AMTparseAMtoTeX(a.substring(3,a.length-3)))+"Hex12":"Hex22 "+d(AMTparseAMtoTeX(a.substring(3,a.length-3)))+" Hex23"});b=
b.replace(/\!\!\!(.|\n)*?\!\!\!/g,function(a){a=a.trim().split(" ").join("");var b=["NerdTerm12","NerdTerm2"];return b[0]+" "+a.substring(3,a.length-3)+" "+b[1]});b=b.replace(/\!\ppp(.|\n)*?\!\ppp/g,function(a){return a=a.replace(/\!\!(.|\n)*?\!\!/g,function(a){a=a.trim().split(" ").join("");var b=["NerdTerm12","NerdTerm2"];return b[0]+" "+a.substring(2,a.length-2)+" "+b[1]})});b=b.replace(/\$\$(.|\n)*?\$\$/g,function(a){return a=a.replace(/\!\!(.|\n)*?\!\!/g,function(a){a=a.trim().split(" ").join("");
var b=["NerdTerm11","NerdTerm2"];a.substring(2,a.length-2);return b[0]+" "+a.substring(2,a.length-2)+" "+b[1]})});b=b.replace(/\!\!(.|\n)*?\!\!/g,function(a){a=a.trim().split(" ").join("");var b=["NerdTerm10","NerdTerm2"];return b[0]+" "+a.substring(2,a.length-2)+" "+b[1]});b=b.replace(/NerdTerm1(.|\n)*?NerdTerm2/g,function(a){var b;if(-1!=a.substring(9,a.length-9).indexOf("\n"))return a=a.substring(10,a.length-9).trim(),a.split("\n").map(function(a){var b=!0;a=a.trim();a.startsWith("!")&&(b=!1,a=
a.substr(1).trim());var g=!1,e=!1;a.startsWith("#")&&(a=a.substring(1).trim(),g=!0);a.endsWith("#")&&(a=a.substr(0,a.length-1).trim(),e=!0);g=B(a,g,e,!0);if(1==b)return"$$\n"+g+"\n$$"}).join("\n");a=a.substring(9,a.length-9).trim();if(a.startsWith("0")||a.startsWith("1")){var g=["",""];a.startsWith("0")&&(g=["$$ "," $$"]);a=a.substr(1).trim();var d=b=!1;a.startsWith("#")&&(a=a.substr(1).trim(),b=!0);a.endsWith("#")&&(a=a.substring(0,a.length-1).trim(),d=!0);return g[0]+B(a,b,d,!0)+g[1]}if(a.startsWith("2"))return a=
a.substr(1).trim(),d=B(a,b,d,!1),nerdamer(d).evaluate().text()});var g=[-5,5],k=[-5,5],l=[1,1],w=[1,1],z=[1E3,1E3];b=b.replace(/\!ppp(.|\n)*?\!ppp/g,function(b){var d="#000000",f=5,h=0,u="",x="";$("body").append("<canvas id='plotcanvas' style='display:none' width='2000px' height='2000px'></canvas>");var r=$("#plotcanvas")[0],e=$("#plotcanvas")[0].getContext("2d");e.font="40px Sans-Serif";e.setLineDash([]);b.split("\n").map(function(b){function m(a){return(a-parseFloat(g[0]))/(parseFloat(g[1])-parseFloat(g[0]))*
z[0]}function n(a){return z[1]-(a-parseFloat(k[0]))*z[1]/(parseFloat(k[1])-parseFloat(k[0]))}function C(a,b,c,g,k,h){k=void 0===k?20:k;h=void 0===h?8:h;e.strokeStyle=d;e.lineCap="round";e.lineWidth=""+f;e.beginPath();e.moveTo(a,b);e.lineTo(c,g);a=c-a;b=g-b;var u=Math.sqrt(a*a+b*b);a/=u;b/=u;e.moveTo(c-k*a+h*b,g-k*b-h*a);e.lineTo(c,g);e.moveTo(c-k*a-h*b,g-k*b+h*a);e.lineTo(c,g);e.stroke()}function y(){e.strokeStyle=d;e.lineCap="round";e.lineWidth=""+f;var a=1;2<g.length&&(a=parseFloat(g[2]));if(0<=
a&&(C(m(parseFloat(g[0])),n(0),m(parseFloat(g[1])),n(0)),e.fillStyle=d,0!=a))for(var b=a*parseInt((parseFloat(g[0])-1)/a);b<parseFloat(g[1]);b+=a)e.beginPath(),e.moveTo(m(b),n(0)-10),e.lineTo(m(b),n(0)+10),0!=b&&e.fillText(""+b,m(b)-5,n(0)+55),e.stroke()}function F(a,b,c,e,d,g){b-=e/2;c-=d/2;var f=e/2*.5522848,k=d/2*.5522848,h=b+e,u=c+d;e=b+e/2;d=c+d/2;a.beginPath();a.moveTo(b,d);a.bezierCurveTo(b,d-k,e-f,c,e,c);a.bezierCurveTo(e+f,c,h,d-k,h,d);a.bezierCurveTo(h,d+k,e+f,u,e,u);a.bezierCurveTo(e-f,
u,b,d+k,b,d);1==g&&a.fill();a.stroke()}function v(){e.strokeStyle=d;e.lineCap="round";e.lineWidth=""+f;var a=1;2<k.length&&(a=parseFloat(k[2]));if(0<=a&&(C(m(0),n(parseFloat(k[0])),m(0),n(parseFloat(k[1]))),e.fillStyle=d,0!=a))for(var b=a*parseInt((parseFloat(k[0])-1)/a);b<parseFloat(k[1]);b+=a)e.beginPath(),e.moveTo(m(0)+10,n(b)),e.lineTo(m(0)-10,n(b)),0!=b&&e.fillText(""+b,m(0)+20,n(b)+20),e.stroke()}var c=b.split(":");if("grid"==c[0].trim().toLowerCase()){w=c[1].split(",");if(1<w.length&&1<h){var t=
parseFloat(w[0]);var p=parseFloat(w[1]);if(0<t)for(b=t*parseInt(parseFloat(g[0])/t);b<parseFloat(g[1]);b+=t)if(0!=b||0==b&&3==k.length&&0>parseFloat(k[2]))e.strokeStyle=d,e.lineWidth=f,e.beginPath(),e.moveTo(m(b),n(parseFloat(k[0]))),e.lineTo(m(b),n(parseFloat(k[1]))),e.stroke();if(0<p)for(b=p*parseInt(parseFloat(k[0])/p);b<parseFloat(k[1]);b+=p)if(0!=b||0==b&&3==g.length&&0>parseFloat(g[2]))e.strokeStyle=d,e.lineWidth=f,e.beginPath(),e.moveTo(m(parseFloat(g[0])),n(b)),e.lineTo(m(parseFloat(g[1])),
n(b)),e.stroke();b=d;c=f;d=u;f=x;y();v();d=b;f=c}return""}if("fontsize"==c[0].trim())e.font=c[1].trim()+"px Sans-Serif";else if("arrow"==c[0].trim())c=c[1].split(","),4==c.length&&(e.fillStyle=d,e.lineWidth=f,C(m(parseFloat(c[0])),n(parseFloat(c[1])),m(parseFloat(c[2])),n(parseFloat(c[3]))));else if("polygon"==c[0].trim()){if(c=c[1].split(","),0<c.length){p=!0;t="";var q=c.length;0==q%2&&(p=!1,q--);1==p&&(t=c[c.length-1]);e.beginPath();e.moveTo(m(parseFloat(c[0])),n(parseFloat(c[1])));for(b=2;b<q;b+=
2)e.lineTo(m(parseFloat(c[b])),n(parseFloat(c[b+1])));1==p&&(e.fillStyle=t,e.fill());e.strokeStyle=d;e.lineWidth=f;e.stroke()}}else if("pen"==c[0].trim().toLowerCase())c=c[1].split(","),0<c.length&&(d=c[0]),1<c.length&&(f=parseFloat(c[1])),3<c.length&&e.setLineDash([parseInt(c[2]),parseInt(c[3])]);else{if("xaxis"==c[0].trim().toLowerCase())return g=c[1].split(","),3==g.length&&(parseFloat(g[1])<parseFloat(g[0])&&(b=g[0],g[0]=g[1],g[1]=b),h++,2==h&&(y(),v(),u=d,x=f)),"";if("yaxis"==c[0].trim().toLowerCase())return k=
c[1].split(","),3==k.length&&(parseFloat(k[1])<parseFloat(k[0])&&(b=k[0],k[0]=k[1],k[1]=b),h++,2==h&&(y(),v(),u=d,x=f)),"";if("ratio"==c[0].trim().toLowerCase())return 1<c.length&&(l=c[1].split(","),r.width=2E3,r.height=2E3*parseFloat(l[1])/parseFloat(l[0]),e.clearRect(0,0,r.width,r.height),z=[r.width,r.height],e.font="40px Sans-Serif",e.setLineDash([])),"";if("line"==c[0].trim().toLowerCase())c=c[1].split(","),3<c.length&&(e.strokeStyle=d,e.lineWidth=f,e.beginPath(),e.moveTo(m(parseFloat(c[0])),
n(parseFloat(c[1]))),e.lineTo(m(parseFloat(c[2])),n(parseFloat(c[3]))),e.stroke());else if("circle"==c[0].trim().toLowerCase())c=c[1].split(","),2<c.length&&(e.strokeStyle=d,e.lineWidth=f,b=parseFloat(c[0]),t=parseFloat(c[1]),q=parseFloat(c[2]),e.beginPath(),p=!1,4==c.length&&(e.fillStyle=c[3],p=!0),F(e,m(b),n(t),2*(m(q)-m(0)),2*(n(0)-n(q)),p));else if("fill"==c[0].trim().toLowerCase()){if(c=c[1].split(","),3<c.length)for(b=parseFloat(c[2]),p=parseFloat(c[3]),t=nerdamer(c[0].trim()).buildFunction(),
c=nerdamer(c[1].trim()).buildFunction();b<p;b+=(parseFloat(g[1])-parseFloat(g[0]))/z[0])e.beginPath(),e.lineWidth=1,e.strokeStyle=d,e.moveTo(m(b),n(t(b))),e.lineTo(m(b),n(c(b))),e.stroke()}else if("point"==c[0].trim().toLowerCase())c=c[1].split(","),p=t=0,2<c.length&&(e.beginPath(),e.fillStyle=d,0<parseInt(c[2])&&e.fillRect(m(parseFloat(c[0]))-parseInt(c[2]),n(parseFloat(c[1]))-parseInt(c[2]),parseInt(2*c[2]+1),parseInt(2*c[2]+1))),3<c.length&&(t=2*parseInt(c[2]),p=parseInt(c[2])),5<c.length&&(t=
parseInt(c[4]),p=parseInt(c[5])),3<c.length&&e.fillText(c[3],m(parseFloat(c[0]))+t,n(parseFloat(c[1]))+p);else if("function"==c[0].trim().toLowerCase()){b=parseFloat(g[0]);p=parseFloat(g[1]);c=c[1].split(",");2<c.length&&(b=parseFloat(c[1]),p=parseFloat(c[2]));if(0<c.length){t=[];q=nerdamer(c[0].trim()).buildFunction();xax0=parseFloat(g[0]);xax1=parseFloat(g[1]);yax0=parseFloat(k[0]);yax1=parseFloat(k[1]);c=0;var A=!1;for(t.push([]);b<p;b+=(xax1-xax0)/z[0])q(b)<=yax1&&q(b)>=yax0?(t[c].push(new a(m(b),
n(q(b)))),A=!0):(1==A&&(c++,t.push([])),A=!1);for(c=0;c<t.length;c++)for(p=QreatorBezier.holeBezier(t[c],.1),b=0;b<p.length;b++)q=p[b],1===q.length?(e.beginPath(),e.fillStyle=d,e.fillRect(q[0].x,q[0].y,1,1)):4===q.length&&(e.beginPath(),e.moveTo(q[0].x,q[0].y),e.strokeStyle=d,e.lineCap="round",e.lineWidth=""+f,e.bezierCurveTo(q[1].x,q[1].y,q[2].x,q[2].y,q[3].x,q[3].y),e.stroke())}return"Funktion gefunden"}}});b=$("#plotcanvas")[0].toDataURL();$("#plotcanvas").remove();return"\n\n++++\n<img  style='margin-left:auto; margin-right:auto;display:block' src='"+
b+"' width='600px'  ></img>\n++++\n"});b=b.replace(/\$\$(.|\n)*?\$\$/g,function(a){return-1!=a.substring(2,a.length-2).indexOf("\n")?"Hex11 "+d(a.substring(2,a.length-2))+" Hex12":"Hex22 "+d(a.substring(2,a.length-2))+" Hex23"});var r=Opal.hash2(["header_footer","attributes"],{header_footer:!1,attributes:["icons=font"]});b=Opal.Asciidoctor.$convert(b,r);b=b.replace(/Hex11(.)*?Hex12/g,function(a){return"\\["+f(a.substring(5,a.length-5).trim())+"\\]"});b=b.replace(/Hex22(.)*?Hex23/g,function(a){return"\\("+
f(a.substring(5,a.length-5).trim())+"\\)"});b=b.replace(/\\\$(.|\n)*?\\\$/g,function(a){return-1!=a.substring(2,a.length-2).indexOf("\n")?"\\[ "+AMTparseAMtoTeX(a.substring(2,a.length-2))+" \\]":"\\( "+AMTparseAMtoTeX(a.substring(2,a.length-2))+" \\)"});$(h).html(b);$(h).find("pre code").each(function(){Prism.highlightElement($(this)[0])});renderMathInElement($(h)[0],{delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\[",right:"\\]",display:!0},{left:"\\(",right:"\\)",display:!1}]});return x}
function r(a){for(var b=a.length,d=0,g=0;g<b;g++){var f=a.charAt(g);"("!==f&&"["!==f||d++;")"!==f&&"]"!==f||d--;if(","===f&&!d)return[a.substr(0,g),a.substr(g+1,b)]}return[a,""]}function v(a){a=r(a.split(" ").join(""));var b=a[0],d={};a[1].split(",").map(function(a){a=a.split("=");var b=a[0],g=a[1];nerdamer.validVarName(b)&&"undefined"!==typeof g&&(d[b]=a[1])});return[b,d]}function B(a,d,f,g){var b=v(a),h=b[0],b=b[1],l=/^([a-z_][a-z\d\_]*)\(([a-z_,\s]*)\):=(.+)$/gi.exec(h);if(l){d=l[1];f=l[2].split(",");
h=nerdamer(l[3]).text();try{nerdamer.setFunction(d,f,h);var r=d+"("+f.map(function(a){return nerdamer(a).toTeX()}).join(",")+")="+nerdamer(h).toTeX();Object.keys(b);return 1==g?r.split("\n").join(""):a}catch(y){return a("Error: Could not set function: "+y.toString())}}else if(l=/^([a-z_][a-z\d\_]*):(.+)$/gi.exec(h))try{var x=l[1],u=l[2];nerdamer.setVar(x,nerdamer(u).text());r=x+"="+nerdamer(u).toTeX();return 1==g?r.split("\n").join(""):a}catch(y){return a("Something went wrong. Nerdamer could not parse expression: "+
y.toString())}else try{var w=nerdamer(nerdamer(h).text(),b);output=w.toString();1==d&&(w=w.evaluate());decimal=void 0;1==f&&(decimal="decimal");r=w.toTeX(decimal);return 1==g?r.split("\n").join(""):a}catch(y){return a("Something went wrong. Nerdamer could not parse expression: "+y.toString())}}var E,D;this.zeigeMarkdown=function(a){$("#markdown").append("<div class='markdownText'><div id='ausgabeMarkdown'></div><div hidden id='originaltext' class='originaltext'></div></div>");a=$("#aktuellerText").val();
l(a,"#ausgabeMarkdown");$("#originaltext").text(a);$("#originaltext").removeAttr("id");$("#ausgabeMarkdown").removeAttr("id");$("#markdownTable").remove();$(D).html("")};this.recalculate=function(a,d){return l(a,d)};this.init=function(a,d,f){if(null==f||void 0==f)f="";E=a;D=d;$(E).html("<table id='markdownTable' style='width:100%;'><tr><td valign='top' style='width:50%;'><textarea wrap='soft' style='width:100%;' id='aktuellerText'>"+f+"</textarea></td><td  style='width:50%; '><div id='htmlResult' class='adoccss'></div></td></tr></table>");
$(D).append("<input id='livepreview' type='checkbox' checked>Live</input><button id='parseMarkdown' class='imagePreview'></button><button id='insertGraph' class='imageGraph'></button>");l(f,"#htmlResult");new Expanding($("#aktuellerText")[0]);$("#aktuellerText").focus();$("#aktuellerText").on("keypress",function(a){if(1==$("#livepreview")[0].checked&&(13===a.keyCode||13==a.charCode||32==a.keyCode||32==a.charCode)){a=$("#aktuellerText").val();if(null==a||void 0==a)a="";l(a,"#htmlResult")}});$("#parseMarkdown").on("click",
function(){var a=$("#aktuellerText").val();l(a,"#htmlResult")});$("#insertTable").on("click",function(){h("\n|===\n|Kopf Spalte 1|Kopf Spalte 2|Kopf Spalte 3\n\n|Text 1|Text 2|Text 3\n|Text 1|Text 2|Text 3\n|===\n","#aktuellerText");$("#aktuellerText").focus()});$("#insertGraph").on("click",function(){h("\n!!\n!startx:-4.8\n!endex:5\n!starty:-1.8\n!endey:5\n!!\n!ppp\nratio:!!endex-startx!!,!!endey-starty!!\nxaxis:!!startx!!,!!endex!!,1\nyaxis:!!starty!!,!!endey!!,1 \npen:#ccccff,4 \ngrid:0.5,0.5\npen:blue,10,0,0 \nfunction:x^2 \npen:red,10,20,20\nfunction:2x\npen:black,10,0,0\npoint:1,2,15\n!ppp\n",
"#aktuellerText");$("#aktuellerText").focus()})}};
