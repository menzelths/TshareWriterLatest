var Textabschnitt=new function(){function c(b,c){b=b.replace(/\$\$\$(.|\n)*?\$\$\$/g,function(a){return-1!=a.substring(3,a.length-3).indexOf("\n")?"\\[ "+AMTparseAMtoTeX(a.substring(3,a.length-3))+" \\]":"\\( "+AMTparseAMtoTeX(a.substring(3,a.length-3))+" \\)"});b=b.replace(/\$\$(.|\n)*?\$\$/g,function(a){return-1!=a.substring(2,a.length-2).indexOf("\n")?"\\[ "+a.substring(2,a.length-2)+" \\]":"\\( "+a.substring(2,a.length-2)+" \\)"});b=Opal.Asciidoctor.$convert(b);b=b.replace(/\\\$(.|\n)*?\\\$/g,
function(a){return-1!=a.substring(2,a.length-2).indexOf("\n")?"\\[ "+AMTparseAMtoTeX(a.substring(2,a.length-2))+" \\]":"\\( "+AMTparseAMtoTeX(a.substring(2,a.length-2))+" \\)"});$(c).html(b);renderMathInElement($(c)[0],{delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\[",right:"\\]",display:!0},{left:"\\(",right:"\\)",display:!1}]})}var e,d;this.zeigeMarkdown=function(b){$("#markdown").append("<div class='markdownText'><div id='ausgabeMarkdown'></div><div hidden id='originaltext' class='originaltext'></div></div>");
b=$("#aktuellerText").val();c(b,"#ausgabeMarkdown");$("#originaltext").text(b);$("#originaltext").removeAttr("id");$("#ausgabeMarkdown").removeAttr("id");$("#markdownTable").remove();$(d).html("")};this.init=function(b,f,a){null==a&&(a="");e=b;d=f;$(e).html("<table id='markdownTable' style='width:100%;'><tr><td valign='top' style='width:50%;'><textarea style='width:100%;' id='aktuellerText'>"+a+"</textarea></td><td  style='width:50%; '><div id='htmlResult' class='adoccss'></div></td></tr></table>");
$(d).append("<button id='parseMarkdown' class='imagePreview'></button><input id='livepreview' type='checkbox' checked>Live</input>");c(a,"#htmlResult");new Expanding($("#aktuellerText")[0]);$("#aktuellerText").on("keypress",function(a){1!=$("#livepreview")[0].checked||13!==a.keyCode&&13!=a.charCode&&32!=a.keyCode&&32!=a.charCode||(a=$("#aktuellerText").val(),c(a,"#htmlResult"))});$("#parseMarkdown").on("click",function(){var a=$("#aktuellerText").val();c(a,"#htmlResult")});$("#erstelleTabelle").on("click",
function(){var a=$("#aktuellerText").prop("selectionStart"),b=$("#aktuellerText").prop("selectionEnd"),c=$("#aktuellerText").val(),d=c.substring(0,a),e=c.substring(b,c.length),a=c.substring(a,b);$("#aktuellerText").val(d+"<span style='background-color: #ffff00'>"+a+"</span>"+e)})}};
